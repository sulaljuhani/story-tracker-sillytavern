<script src="{{EXTENSION_ASSETS_BASE_PATH}}/src/lib/sortable.min.js"></script>
<div id="story-tracker-panel" class="story-tracker-panel">
    <div class="story-tracker-header">
        <h3>Story Tracker</h3>
        <div class="story-tracker-preset-controls">
            <label for="story-tracker-preset-select">Preset:</label>
            <select id="story-tracker-preset-select"></select>
            <button id="edit-preset-prompt" class="story-tracker-btn story-tracker-btn-small" title="Edit Preset Prompt">
                <i class="fa-solid fa-pencil"></i>
            </button>
        </div>
        <div class="story-tracker-controls">
            <button id="story-tracker-settings" class="story-tracker-btn" title="Settings">
                <i class="fa-solid fa-cog"></i>
            </button>
            <button id="story-tracker-manual-update" class="story-tracker-btn" title="Manual Update">
                <i class="fa-solid fa-refresh"></i>
            </button>
            <button id="story-tracker-collapse" class="story-tracker-btn" title="Collapse">
                <i class="fa-solid fa-chevron-left"></i>
            </button>
        </div>
    </div>

    <div class="story-tracker-content">
        <div id="story-tracker-sections" class="story-tracker-sections">
            <!-- Dynamic sections will be rendered here -->
        </div>

        <div class="story-tracker-actions">
            <button id="story-tracker-add-section" class="story-tracker-btn story-tracker-btn-primary">
                <i class="fa-solid fa-plus"></i> Add Section
            </button>
        </div>
    </div>
</div>

<!-- Mobile toggle button -->
<button id="story-tracker-mobile-toggle" class="story-tracker-mobile-toggle" title="Toggle Story Tracker">
    <i class="fa-solid fa-book"></i>
</button>

<!-- Settings Modal Template -->
<div id="story-tracker-settings-modal" class="story-tracker-modal">
    <div class="story-tracker-modal-content">
        <div class="story-tracker-modal-header">
            <h4>Story Tracker Settings</h4>
            <button class="story-tracker-modal-close">&times;</button>
        </div>
        <div class="story-tracker-modal-body">
            <!-- Settings content will be populated by JavaScript -->
        </div>
    </div>
</div>

<!-- Field Editor Modal Template -->
<div id="story-tracker-field-modal" class="story-tracker-modal">
    <div class="story-tracker-modal-content">
        <div class="story-tracker-modal-header">
            <h4 id="field-modal-title">Edit Field</h4>
            <button class="story-tracker-modal-close">&times;</button>
        </div>
        <div class="story-tracker-modal-body">
            <!-- Field editor content will be populated by JavaScript -->
        </div>
    </div>
</div>
